<div class="pagination-container" th:if="${totalPages > 0}">
    <nav aria-label="Page navigation">
        <ul class="pagination justify-content-center">

            <!-- 上一页 -->
            <li class="page-item" th:classappend="${currentPage == 0} ? 'disabled'">
                <a class="page-link"
                    th:href="@{/students(page=${currentPage > 0 ? currentPage - 1 : 0}, size=10)}">上一页</a>
            </li>

            <!-- 简易分页 -->
            <th:block th:if="${totalPages <= 7}">
                <li th:each="i : ${#numbers.sequence(0, totalPages - 1)}" class="page-item"
                    th:classappend="${i == currentPage} ? 'active'">
                    <a class="page-link" th:href="@{/students(page=${i}, size=10)}" th:text="${i + 1}"></a>
                </li>
            </th:block>

            <!-- 高级分页 -->
            <th:block th:if="${totalPages > 7}">
                <li class="page-item" th:classappend="${0 == currentPage} ? 'active'">
                    <a class="page-link" th:href="@{/students(page=0, size=10)}">1</a>
                </li>

                <li class="page-item disabled" th:if="${currentPage > 3}">
                    <span class="page-link">...</span>
                </li>

                <th:block
                    th:with="start = ${currentPage < 3 ? 1 : (currentPage > totalPages - 4 ? totalPages - 5 : currentPage - 2)},
                                         end = ${currentPage < 3 ? 5 : (currentPage > totalPages - 4 ? totalPages - 2 : currentPage + 2)}">
                    <li th:each="i : ${#numbers.sequence(start, end)}" class="page-item"
                        th:classappend="${i == currentPage} ? 'active'">
                        <a class="page-link" th:href="@{/students(page=${i}, size=10)}" th:text="${i + 1}"></a>
                    </li>
                </th:block>

                <li class="page-item disabled" th:if="${currentPage < totalPages - 4}">
                    <span class="page-link">...</span>
                </li>

                <li class="page-item" th:classappend="${totalPages - 1 == currentPage} ? 'active'">
                    <a class="page-link" th:href="@{/students(page=${totalPages - 1}, size=10)}"
                        th:text="${totalPages}"></a>
                </li>
            </th:block>

            <!-- 下一页 -->
            <li class="page-item" th:classappend="${currentPage == totalPages - 1} ? 'disabled'">
                <a class="page-link"
                    th:href="@{/students(page=${currentPage < totalPages - 1 ? currentPage + 1 : currentPage}, size=10)}">下一页</a>
            </li>
        </ul>
    </nav>
</div>

<!-- 无数据提示 -->
<div th:unless="${totalPages > 0}" class="alert alert-info mt-3">
    当前没有符合条件的数据
</div>
</div>